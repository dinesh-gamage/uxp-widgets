{"version":"2.0","models":[{"Key":"8","Name":"VisitorArrival","Definition":{"version":"v2","attributes":[],"flows":{"blocks":[{"title":"ES6Javascript","type":"es6javascript","id":"579b6186-73bd-46b6-8bd3-a40295b6bb9c","position":{"left":343.00000381469727,"top":78},"surface":"list_arrivals","connections":{"inputs":[{"source":"70ab2534-f1db-42d1-aa5f-ab7506a27359:output:output","target":"579b6186-73bd-46b6-8bd3-a40295b6bb9c:input:trigger"}],"outputs":[{"source":"579b6186-73bd-46b6-8bd3-a40295b6bb9c:output:status","target":"7be11795-3b2f-46b0-b698-53bb48fac5ee:input:input"},{"source":"579b6186-73bd-46b6-8bd3-a40295b6bb9c:output:data","target":"38614b24-52c5-4f0d-c05f-15bbf2126212:input:input"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"status","type":"","label":"status","description":"","documentation":""},{"id":"data","type":"","label":"data","description":"","documentation":""}],"description":"","code":"// collections \r\nlet collections = lucy.currentModel().collections();\r\n\r\nlet filter = {\r\n    \"status\": {\r\n        \"$ne\": \"acknowledged\"\r\n    }\r\n};\r\n\r\nlet options = {};\r\n\r\ncollections.findMany(\"visitor_arrival\", filter, options)\r\n    .then(result => {\r\n        runtime.done({status:\"success\", data: result});\r\n    })\r\n    .catch(error => {\r\n        runtime.error(error);\r\n    });","timeoutMilliseconds":5000},{"title":"Action","type":"actionstart","id":"23fdf16f-79c1-40d9-e75d-1634a47b9a78","position":{"left":60,"top":60},"surface":"dummy_data","connections":{"inputs":[],"outputs":[{"source":"23fdf16f-79c1-40d9-e75d-1634a47b9a78:output:output","target":"8a4a7928-d76f-431c-db56-e599a00a0afd:input:trigger"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":""}],"actionName":"dummy_data","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false},{"title":"Output","type":"actionoutput","id":"ed759fd0-6bbf-4b26-8185-925d55af6a18","position":{"left":571,"top":115},"surface":"dummy_data","connections":{"inputs":[{"source":"8a4a7928-d76f-431c-db56-e599a00a0afd:output:output","target":"ed759fd0-6bbf-4b26-8185-925d55af6a18:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":""},{"title":"Action","type":"actionstart","id":"22d7c4f0-d421-4b4b-fe7d-a443bc3c1fab","position":{"left":60,"top":60},"surface":"update_status","connections":{"inputs":[],"outputs":[{"source":"22d7c4f0-d421-4b4b-fe7d-a443bc3c1fab:output:_id","target":"3ef9e7d4-9bdd-401b-d277-3aa5afc9b719:input:_id"},{"source":"22d7c4f0-d421-4b4b-fe7d-a443bc3c1fab:output:status","target":"3ef9e7d4-9bdd-401b-d277-3aa5afc9b719:input:status"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"_id","type":"","label":"_id","description":"","documentation":""},{"id":"status","type":"","label":"status","description":"","documentation":""}],"actionName":"update_status","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false},{"title":"Output","type":"actionoutput","id":"7be11795-3b2f-46b0-b698-53bb48fac5ee","position":{"left":686,"top":60},"surface":"list_arrivals","connections":{"inputs":[{"source":"579b6186-73bd-46b6-8bd3-a40295b6bb9c:output:status","target":"7be11795-3b2f-46b0-b698-53bb48fac5ee:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":"status"},{"title":"Output","type":"actionoutput","id":"3366b300-8593-4669-eebf-0e23d1c783a0","position":{"left":655,"top":245},"surface":"update_status","connections":{"inputs":[],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":"data"},{"title":"Action","type":"actionstart","id":"70ab2534-f1db-42d1-aa5f-ab7506a27359","position":{"left":61,"top":60},"surface":"list_arrivals","connections":{"inputs":[],"outputs":[{"source":"70ab2534-f1db-42d1-aa5f-ab7506a27359:output:output","target":"579b6186-73bd-46b6-8bd3-a40295b6bb9c:input:trigger"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":""}],"actionName":"list_arrivals","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false},{"title":"Output","type":"actionoutput","id":"38614b24-52c5-4f0d-c05f-15bbf2126212","position":{"left":679,"top":200},"surface":"list_arrivals","connections":{"inputs":[{"source":"579b6186-73bd-46b6-8bd3-a40295b6bb9c:output:data","target":"38614b24-52c5-4f0d-c05f-15bbf2126212:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":"data"},{"title":"ES6Javascript","type":"es6javascript","id":"8a4a7928-d76f-431c-db56-e599a00a0afd","position":{"left":300,"top":80},"surface":"dummy_data","connections":{"inputs":[{"source":"23fdf16f-79c1-40d9-e75d-1634a47b9a78:output:output","target":"8a4a7928-d76f-431c-db56-e599a00a0afd:input:trigger"}],"outputs":[{"source":"8a4a7928-d76f-431c-db56-e599a00a0afd:output:output","target":"ed759fd0-6bbf-4b26-8185-925d55af6a18:input:input"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"output","type":"","label":"output","description":"","documentation":""}],"description":"","code":"let collections = lucy.currentModel().collections();\r\n\r\nlet data = [{\r\n    name: \"Mark Anthony\",\r\n    time: \"10.00 am\",\r\n    location:\"loby\",\r\n    status:\"\"\r\n},\r\n{\r\n    name: \"Kamal Perere\",\r\n    time: \"01.00 pm\",\r\n    location:\"loby\",\r\n    status:\"\"\r\n},\r\n{\r\n    name: \"John Doe\",\r\n    time: \"10.00 am\",\r\n    location:\"loby\",\r\n    status:\"\"\r\n},\r\n{\r\n    name: \"Chethiya Perera\",\r\n    time: \"10.00 am\",\r\n    location:\"loby\",\r\n    status:\"\"\r\n}]\r\n\r\ncollections.insertMany(\"visitor_arrival\", data, {})\r\n.then(res => runtime.done({output: res}))\r\n.catch(e=> runtime.error(e))","timeoutMilliseconds":5000},{"title":"Output","type":"actionoutput","id":"0a8ed5e6-cdad-4d2f-8a3b-c75d6e85312e","position":{"left":648,"top":119},"surface":"update_status","connections":{"inputs":[{"source":"3ef9e7d4-9bdd-401b-d277-3aa5afc9b719:output:status","target":"0a8ed5e6-cdad-4d2f-8a3b-c75d6e85312e:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":"status"},{"title":"ES6Javascript","type":"es6javascript","id":"3ef9e7d4-9bdd-401b-d277-3aa5afc9b719","position":{"left":353,"top":100},"surface":"update_status","connections":{"inputs":[{"source":"22d7c4f0-d421-4b4b-fe7d-a443bc3c1fab:output:_id","target":"3ef9e7d4-9bdd-401b-d277-3aa5afc9b719:input:_id"},{"source":"22d7c4f0-d421-4b4b-fe7d-a443bc3c1fab:output:status","target":"3ef9e7d4-9bdd-401b-d277-3aa5afc9b719:input:status"}],"outputs":[{"source":"3ef9e7d4-9bdd-401b-d277-3aa5afc9b719:output:status","target":"0a8ed5e6-cdad-4d2f-8a3b-c75d6e85312e:input:input"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"_id","type":"","label":"_id","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"status","type":"","label":"status","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"status","type":"","label":"status","description":"","documentation":""},{"id":"data","type":"","label":"data","description":"","documentation":""}],"description":"","code":"// get inputs \r\nlet inputs = runtime.inputs();\r\n// get collections\r\nlet collections = lucy.currentModel().collections();\r\n\r\nlet args = {\r\n    \"status\": inputs.status\r\n};\r\n\r\ncollections.updateOne(\r\n    \"visitor_arrival\",\r\n    { _id: inputs._id },\r\n    { \"$set\": args },\r\n    {}\r\n)\r\n    .then(res => runtime.done({ data: res, status: \"success\" }))\r\n    .catch(e => runtime.error(e))","timeoutMilliseconds":5000}],"position":{"top":0,"left":0}},"sources":[{"name":"dummy_data","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":[]},{"name":"update_status","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":["status"],"parameters":["_id","status"]},{"name":"list_arrivals","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":["status","data"],"parameters":[]}],"actions":[{"name":"dummy_data","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":[]},{"name":"update_status","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":["status"],"parameters":["_id","status"]},{"name":"list_arrivals","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":["status","data"],"parameters":[]}],"uioptions":{}},"UIDefinition":null,"MetadataDictionary":"null","ApiRoutes":[],"JSModules":[],"ModelCollections":[{"Key":"467","MapKey":"8","GUID":"040fc749-dcd4-40c7-9f60-627c59b8ff02","Attributes":"[{\"name\":\"name\"},{\"name\":\"location\"},{\"name\":\"date\"},{\"name\":\"time\"}]","Name":"visitor_arrival"}]}]}